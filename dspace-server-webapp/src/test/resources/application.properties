#
# The contents of this file are subject to the license and copyright
# detailed in the LICENSE and NOTICE files at the root of the source
# tree and available online at
#
# http://www.dspace.org/license/
#

# Spring Boot's Test application.properties

########################
# Jackson serialization settings
#
spring.jackson.serialization.fail-on-empty-beans=false

########################
# Internationalization
#
# Base Path for our messages file (i18n)
spring.messages.basename=i18n/messages
spring.messages.encoding=UTF-8

########################
# URI Encoding and Decoding
#
#
# Charset of HTTP requests and responses. Added to the "Content-Type" header if not set explicitly.
server.servlet.encoding.charset=UTF-8
# Force the encoding to the configured charset on HTTP requests and responses.
server.servlet.encoding.force=true

###########################
# Server Properties
#
# Error handling settings
server.error.include-stacktrace = never

# When to include the error message in error responses (introduced in Spring 2.3.x)
server.error.include-message = always

# Spring Boot proxy configuration (can be overridden in local.cfg).
server.forward-headers-strategy=FRAMEWORK

######################
# Cache Properties
# Added for IIIF cache support.
# Path to configuration file.
spring.cache.jcache.config=classpath:iiif/cache/ehcache.xml

######################
# Spring Boot Autoconfigure
#
# TODO: At some point we may want to investigate whether we can re-enable these and remove the custom DSpace init code
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, \
                             org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, \
                             org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, \
                             org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration, \
                             org.springframework.boot.autoconfigure.velocity.VelocityAutoConfiguration

spring.main.allow-bean-definition-overriding = true

#########################
# Spring Boot Logging levels
logging.config = classpath:log4j2-test.xml
